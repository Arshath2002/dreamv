<!--
 * @Description: 
 * @Author: zhanghang
 * @Date: 2023-04-25 15:40:16
 * @LastEditors: zhanghang
 * @LastEditTime: 2024-01-30 14:56:45
-->
# 页面事件
  #### 请求
- **描述**： 用于请求数据
- **参数**：
  - `{String} url` 请求路径 （必填）
  - `{String} method` 请求方式（选填）默认 get
  - - get
  - - post
  - `{Object} params` 请求参数（选填）默认 null
  - `{Object} config` 请求头配置（选填）默认 null
- **返回值**：请求数据
- **用例**：
  ``` js
    // 请求(url,method,params,config) 示例只展示部分参数
    请求('/cornerMark/getMarkIdList?markTypes=deptMarkTypeExtension','get')
    .then(function(res){
    })
  ```

  #### 跳转页面
- **描述**： 用于页面跳转
- **参数**：
  - `{String} url` 页面路径 （必填）
  - `{String} width` 弹框宽度（选填）默认 '900px'
  - `{String} height` 弹框高度（选填）默认 '60vh'
- **返回值**：无
- **用例**：
  ``` js
  //后面连个参数可以不填写
   跳转页面('pc/test/zh/tbce','900px','60vh')
  ```
  
  #### 弹框
- **描述**： 用于页面弹框
- **参数**：
  - `{String} url` 弹框路径 （必填）
- **返回值**：无
- **用例**：
  ``` js
   弹框('pc/test/zh/tbce')
  ```
# 组件事件

## 公用方法

#### 显示
- **描述**： 控制组件显示
- **参数**：无
- **返回值**：该组件实例
- **用例**：
  ``` js
  横竖双柱图8.显示();
  ```
#### 隐藏
- **描述**： 控制组件隐藏
- **参数**：无
- **返回值**：该组件实例
- **用例**：
  ``` js
  横竖双柱图8.隐藏();
  ```
## 数据公用方法

#### 获取查询参数
- **描述**： 用于获取组件查询参数。
- **参数**：无
- **返回值**：该组件查询参数对象
- **用例**：
  ``` js
  var a = 横竖双柱图8.获取查询参数();
  //a 就是查询参数对象
  ```
#### 更新数据源
- **描述**： 用于更新组件数据源，数据源更换时映射字段不能改变。
- **参数**：
  - `{String} url`
- **返回值**：该组件实例
- **用例**：
  ``` js
  横竖双柱图8.更新数据源(url);
  ```
#### 更新综合表参数(更新数据源参数)
- **描述**： 用于更新综合表数据过来的数据。
- **参数**：
  - `{String} key` 需要更新的字段
  - `{any} val` 更新对应的字段的值
- **返回值**：该组件实例
- **用例**：
  ``` js
  //用于更新综合表的layoutId 对象
  var key = "name";
  var val = "中国";
  横竖双柱图8.更新综合表参数(key,val);
  ```
## 常规组件
### 自定义面板组件
#### 设置标题
- **描述**： 用于设置面板标题。
- **参数**：
  - `{String} title` 标题名称
- **返回值**：该组件实例
- **用例**：
  ``` js
  默认面板39.设置标题('我是标题');
  ```
#### 设置标题
- **描述**： 用于设置面板副标题。
- **参数**：
  - `{String} subTitle` 副标题名称
- **返回值**：该组件实例
- **用例**：
  ``` js
  默认面板39.设置副标题('我是副标题');
  ```
### 左侧菜单栏组件
#### 添加菜单
- **描述**： 用于添加菜单名称。
- **参数**：
  - `{Object} menu` 菜单对象
- **返回值**：该组件实例
- **用例**：
  ``` js
  var menu = {
    name:'菜单名称',
    url:'跳转路径'
  }
  左侧菜单53.添加菜单(menu);
  ```
#### 隐藏菜单
- **描述**： 用于隐藏菜单。
- **参数**：
  - `{name} name` 菜单名称
- **返回值**：该组件实例
- **用例**：
  ``` js
  左侧菜单53.隐藏菜单('区域监测');
  ```
#### 高亮菜单
- **描述**： 用于高亮某一项菜单。
- **参数**：
  - `{name} name` 菜单名称
- **返回值**：该组件实例
- **用例**：
  ``` js
  左侧菜单53.高亮菜单('区域监测');
  ```
#### 更新菜单
- **描述**： 用于更新菜单。
- **参数**：
  - `{Array} menus` 菜单对象数组
- **返回值**：该组件实例
- **用例**：
  ``` js
    var menus = [{
    name:'菜单名称',
    url:'跳转路径'
  },{
    name:'菜单名称2',
    url:'跳转路径2'
  },...]
  左侧菜单53.更新菜单(menus);
  ```
### 走马灯
#### 获取当前值
- **描述**:用于获取当前值，一般用于获取点击值。
- **参数**：
  - `无`
- **返回值**：对象或数组
- **用例**：
  ``` js
  走马灯31.获取当前值();
  ```
### 面板标题
#### 设置标题
- **描述**:用于设置标题。
- **参数**：
  - `title`:标题名称
- **返回值**：该组件实例
- **用例**：
  ``` js
  面板标题30.设置标题('标题');
  ```
#### 设置副标题
- **描述**:用于设置副标题。
- **参数**：
  - `subTitle`:副标题名称
- **返回值**：该组件实例
- **用例**：
  ``` js
  面板标题30.设置副标题('副标题');
  ```
## 图表组件
### 公共方法
#### 设置标题
- **描述**:用于设置标题。
- **参数**：
  - `name`:标题名称
- **返回值**：该组件实例
- **用例**：
  ``` js
  折线图表29.设置标题(name);
  ```
#### 获取配置项
- **描述**:用于获取chart配置项目。
- **参数**：
  - `无`
- **返回值**：该组件chart对象
- **用例**：
  ``` js
  折线图表33.获取配置项();
  ```
#### 重绘
- **描述**:重新渲染图表。
- **参数**：
  - `无`
- **返回值**：该组件实例
- **用例**：
  ``` js
  折线图表33.重绘();
  ```
#### 获取高度
- **描述**:获取图表的高度。
- **参数**：
  - `无`
- **返回值**：高度
- **用例**：
  ``` js
  折线图表33.获取高度();
  ```
#### 获取宽度
- **描述**:获取图表的宽度。
- **参数**：
  - `无`
- **返回值**：宽度
- **用例**：
  ``` js
  折线图表33.获取宽度();
  ```
#### 设置高度
- **描述**:设置图表的高度。
- **参数**：
  - `height`:高度
- **返回值**：该组件实例
- **用例**：
  ``` js
  折线图表33.设置高度(100);
  ```
#### 设置宽度
- **描述**:设置图表的宽度。
- **参数**：
  - `width`:宽度
- **返回值**：该组件实例
- **用例**：
  ``` js
  折线图表33.设置宽度(100);
  ```
#### 添加指标
- **描述**:给图表增加一个系列。
- **参数**：
  - `{String|Object} seriseName`：系列名/系列对象
  - `{Object} data`：系列值（选填）
- **返回值**：该组件实例
- **用例**：
  ``` js
  //seriseName 是对象时候，表示整个系列配置对象
   折线图表33.添加指标({
        type: "line",
        name: "示例t",
        data:[100,200,300,400]
        });
  //seriseName 是字符串类型时，表示在seriseName 系列，追加
  折线图表33.添加指标('示例t',800);
  ```
#### 删除指标 
- **描述**:删除图表的一个系列。
- **参数**：
  - `{String} seriseName`：系列名
- **返回值**：该组件实例
- **用例**：
  ``` js
  折线图表33.删除指标('示例t',800);
  ```

#### 设置动态图表
- **描述**:设置图表为动态图表
- **适用组件**: 柱状图、折柱图、折线图、3d柱状图、散点图、饼环图、象形柱
- **参数**：
  - `{Number} interval`：图表变化间隔显示时间（单位：毫秒）
- **返回值**：该组件实例
- **用例**：
  ``` js
  折柱图表9.设置动态图表(1000)
  ```
### 折线图

#### 设置目标线

- **描述**:设置目标线。
- **参数**：
  - `{String} name`：系列名（给指定系列设置目标线）
  - `{String|Number} type`：目标值可以是数字，也可以是：
    - 'min' 最小值。
    - 'max' 最大值。
    - 'average' 平均值。
    - 'median' 中位数。
 - `{String} label`：名称
 - `{String} color`：目标线颜色
- **返回值**：该组件实例
- **用例**：
  ``` js
  折线图表30.设置目标线('测试','average','平均值','red');
  ```
#### 删除目标线

- **描述**:删除目标线。
- **参数**：
  - `{String} name`：系列名（删除该系列的目标线）
- **返回值**：该组件实例
- **用例**：
  ``` js
  折线图表30.删除目标线('测试');
  ```
### 圆环占比组
#### 追加数据
- **描述**:增加圆环数据。
- **参数**：
  - `{Object} data`
- **返回值**：该组件实例
- **用例**：
  ``` js
  //value 占比值 小于等于100
  var data = {
    name:'新增',
    value:20
  };
  圆环占比组20.追加数据(data);
  ```
#### 删除数据
- **描述**:删除圆环数据。
- **参数**：
  - `{String|Number} str`：可以是数组下标，也可以是字段名称的值
  - `{String} field`：字段名称
- **返回值**：该组件实例
- **用例**：
  ``` js
   //第一种写法 删除第一个数据
   圆环占比组20.删除数据(0);
  
   //第二种写法 删除name是张三的数据
   圆环占比组20.删除数据('张三','name');
  ```
### 多环图表
#### 添加指标
- **描述**:增加圆环数据。
- **参数**：
  - `{Object} data`
- **返回值**：该组件实例
- **用例**：
  ``` js
  //name 圆环对应名称
  //value 值 
  //zb 圆环占比 小于100 必要属性
  var data = {
    name:'新增',
    value:20,
    zb:20
  };
  多环图表5.添加指标(data);
  ```
#### 删除指标
- **描述**:删除圆环数据。
- **参数**：
  - `{String}`：圆环对应名称
- **返回值**：该组件实例
- **用例**：
  ``` js
   //删除高新区对应圆环
   多环图表5.删除指标('高新区');
  ```

### 地图组件

#### 切换地图
- **描述**：用于地图下转。
- **参数**：
  - `{String} url`：地图geojson地址（系统提供全国各省份轮廓数据，输入省份全拼即可，其余数据需要自己上传）
  - `{String} mapCode`：地图标识（随便取，但保证唯一）
  - `{String} mapName`：地图名称（随便取，用返回名称展示）
- **返回值**：该组件实例
- **用例**：
  ``` js
  var url = 'sichuan';
  var mapCode = 'sichaun';
  var mapName = '四川';
  基础地图62.切换地图(url,mapCode,mapName);
  ```
#### 清楚地图数据
- **描述**：用于清楚地图数据。
- **参数**：
  - `{String} name`：地图数据系列名称
- **返回值**：该组件实例
- **用例**：
  ``` js
  基础地图62.清除地图数据('基础地图');
  ```
## 输入组件
### 文本框
#### 设置内容
- **描述**：用于设置文本框内容。
- **参数**：
  - `{String} content`：文本框内容
- **返回值**：该组件实例
- **用例**：
  ``` js
  var content = '我是文本框内容'
  文本框63.设置内容(content);
  ```

## 数据分析相关的排序
#### 数据排序、数据过滤。
  **描述**：移除之前单个组件的排序和筛选数据功能，统一是通过 添加数据过滤规则 伪代码
- **参数**：
  - @param `{string} key` ：过滤字段
  - @param `{string} rule` ：规则
  - @param `{string} value`: 值
  - @param `{boolean} replace`: （选填）是否替换在设计器中相同过滤字段规则,默认true。
  - @param `{boolean} isTemp`: （选填）该规则是临时规则,默认true, true 结束时候将删除该条规则,false 将这条规则永久加入该组件的规则。
- **返回值**：Promise
- **用例**：
  ``` js
  //rule 规则支持 == 等于，> 大于，!= 不等于, >= 大于等于,~= 模糊查询
  //<= 小于等,< 小于,asc 升序，desc 降序，当规则为 asc 和desc 时候，第三个参数传空
  //下面例子 最后一个规则，最后一个参数如果是false，那么第二个和第三个规则将同时生效
  //如果最后一个规则，最后一个参数是 true，那么 相同 value 字段的过滤规则将以最后一个为准
  //主线程添加的规则都是在微事件队里列，在下一次事件循环取出执行（这句话开发看）。 
  //上面意思是下面三个规则 将合并在一起，一起作为规则过滤，一次事件结束将删除本次事件添加的isTemp 为true的所有规则。
  特殊柱状图形图表57.添加过滤规则('year','==','2020');
  特殊柱状图形图表57.添加过滤规则('value','>','100');
  特殊柱状图形图表57.添加过滤规则('value','desc','',false);
 
  ```


#### 替换数据
  **描述**：适用于进度池、进度条、数字翻牌器、水位图
- **参数**：
  - `{Object || number || string} obj`
- **返回值**：该组件
- **用例**：
  ``` js
  var one = "11"
  数字翻牌器461.替换数据(one);
  var one = 222
  数字翻牌器461.替换数据(one);
  var one = [2022]
  数字翻牌器461.替换数据(one);
   var one = {
    value:"2022", // value就是对应的是映射的字段
   }
  数字翻牌器461.替换数据(one);
  ```

### 轮播表格、大屏表格
#### 显示列
  **描述**：显示table某一列 
- **参数**：
  - `{string} str`
- **返回值**：该组件
- **用例**：
  ``` js
  // 填写你需要显示列的名称
  轮播表格463.显示列("名称");
  // 不填则是全部显示
  轮播表格463.显示列();
  ```
#### 隐藏列
  **描述**：隐藏table某一列
- **参数**：
  - `{string} str`
- **返回值**：该组件
- **用例**：
  ``` js
  // 填写你需要隐藏列的名称
  轮播表格463.隐藏列("名称");
  // 如果是数字,填写1则隐藏第一列
  轮播表格463.隐藏列(1);
  ```
#### 获取当前列
  **描述**：获取列表当前这一列的数据 
- **参数**：
  - `{string} str`
- **返回值**：{value:["200","300"],label:"名称"}
- **用例**：
  ``` js
  // 填写你需要获取列的名称
  轮播表格463.获取列("名称");
  // 如果是数字,填写1则获取第一列
  轮播表格463.获取列(1);
  ```
#### 获取当前行
  **描述**：获取列表当前一行的数据 
- **参数**：
  - `{string} str`
- **返回值**：{value:["北京","300"],label:["名称","产值"]}
- **用例**：
  ``` js
  // 填写你需要获取行的名称
  轮播表格463.获取行("北京敬业电工集团");
  // 如果是数字,填写1则获取第一行
  轮播表格463.获取行(1);
  ```
  ### 词云
  #### 添加指标
  **描述**：为词云增加一个显示的数据
- **参数**：
  - `{Object} data`
- **返回值**：该组件
- **用例**：
  ``` js
  词云472.添加指标({
    name:"添加指标了",
    value:2000
  });
  ```
  #### 删除指标
  **描述**：词云删除一个数据
- **参数**：
  - `{String | Number} str`
- **返回值**：该组件
- **用例**：
  ``` js
  // 删除第一条数据,如果为数字的话
  词云472.删除指标(1);
  // 如果为字符串,则找到第一个并删除与名称相符的数字
  词云472.删除指标("工业");
  ```

  ### 热词气泡图
  #### 添加指标
  **描述**：热词气泡图增加一个气泡
- **参数**：
  - `{Object} seriseName {Object} data`
- **返回值**：该组件
- **用例**：
  ``` js
  // 如果第一个参数填写了以第一个参数为准
  热词气泡图472.添加指标({
    name:"添加指标了",
    value:"2000"
  });
  // 如果第一个参数没有为空,则以第二个参数为准
  热词气泡图472.添加指标("",{
    name:"添加指标了",
    value:"2000"
  });
  ```
  #### 删除指标
  **描述**：热词气泡图删除一个气泡
- **参数**：
  - `{Object} seriseName {Object} data`
- **返回值**：该组件
- **用例**：
  ``` js
  // 如果第一个参数填写了以第一个参数为准
  热词气泡图472.删除指标("工业");
  // 如果第一个参数没有为空,则以第二个参数为准
  热词气泡图472.删除指标("","工业");
  ```
  ### 时间线
  #### 设置值
  **描述**：设置当前时间线的点的位置 
- **参数**：
  - `{string||number} one`
- **返回值**：该组件
- **用例**：
  ``` js
  // 如果是数字.则时间则跳转到第三个位置
  时间线473.设置值(2);
  //如果是字符串,则换调到2013哪里去
  时间线473.设置值("2013");
  ```
  #### 获取当前值
  **描述**：获取到当前时间线的点的位置 
- **参数**：
- **返回值**：返回当前的值
- **用例**：
  ``` js
  时间线473.获取当前值();
  ```
  ### 视频容器
  #### 播放
  **描述**：视频的播放
- **参数**：
- **返回值**：返回当前组件
- **用例**：
  ``` js
  视频容器473.播放();
  ```
  #### 暂停
  **描述**：视频的暂停
- **参数**：
- **返回值**：返回当前组件
- **用例**：
  ``` js
  视频容器473.暂停();
  ```
  #### 更新视频地址
  **描述**： 播放输入的视频的地址
- **参数**：
- **返回值**：返回当前组件
- **用例**：
  ``` js 
  let url = "https://www.runoob.com/try/demo_source/mov_bbb.mp4"
  视频容器473.更新视频地址(url);
  ```
   ### gis组件
  #### 地图下钻
  **描述**：地图行政区域切换  
- **参数**：
  - `{String | object} code` 必填
   code 可以是区域的行政编码，可以是地图区域点击事件的当前值：gis组件36.获取当前值()
  - `{String } layerId` 图层id 选填
  - `{Array } data` 图层的数据 选填
- **返回值**：返回当前组件
- **用例**：
  ``` js
  //gis组件36.地图下钻(code,layerId,data); 该示例展示下转到四川，用p1图层样式，空数据展示
  gis组件36.地图下钻("510000","p1");
  ```
  #### 设置图层数据
  **描述**：对地图的空图层设置数据
- **参数**：
  - `{String } layerId` 图层id 必填
  - `{Array } data` 图层的数据 必填
- **返回值**：返回当前组件
- **用例**：
  ``` js
  //表示用图表1的数据填充gis p1图层，即图表1的数据要在地图上展示
  gis组件36.设置图层数据("p1",图表1.获取当前值());
  ```
    #### 添加点图层
  **描述**：添加点图层
- **参数**：
  - `{String } id` 该图层的id 必填 。自己定义但必须唯一
  - `{Array} data` 图层的数据
    data可以是行政编码的数据对象数组，例如：[{adcode:"510000",value:100},{adcode:"520000",value:100},....]
    也可以是包含经纬度的数据对象数组
    例如：[{lng:"xxxxx",lat:"xxxx",value:100},{lng:"xxxxx",lat:"xxxx",value:100},....]
   - `{String } layerId` 图层样式id 选填 使用地图中设置好的图层样式
- **返回值**：返回当前组件
- **用例**：
  ``` js
  gis组件36.添加点图层("cddata",[{adcode:"510000",value:100},{adcode:"520000",value:100}]);
  ```
  
   #### 添加热力图层
  **描述**：添加热力点位
- **参数**：
     同上
- **返回值**：返回当前组件
- **用例**：
  ``` js
  gis组件36.添加热力图层("cddata",[{adcode:"510000",value:100},{adcode:"520000",value:100}]);
  ```
   #### 添加贴地点图层
  **描述**：添加贴地点图层
- **参数**：
     同上
- **返回值**：返回当前组件
- **用例**：
  ``` js
  gis组件36.添加贴地点图层("cddata",[{adcode:"510000",value:100},{adcode:"520000",value:100}]);
  ```
  
   #### 添加平面柱图层
  **描述**：添加平面柱图层
- **参数**：
     同上
- **返回值**：返回当前组件
- **用例**：
  ``` js
  gis组件36.添加平面柱图层("cddata",[{adcode:"510000",value:100},{adcode:"520000",value:100}]);
  ```
  
   #### 添加圆柱图层
  **描述**：添加圆柱图层
- **参数**：
     同上
- **返回值**：返回当前组件
- **用例**：
  ``` js
  gis组件36.添加圆柱图层("cddata",[{adcode:"510000",value:100},{adcode:"520000",value:100}]);
  ```
   #### 添加棱柱图层
  **描述**：添加棱柱图层
- **参数**：
     同上
- **返回值**：返回当前组件
- **用例**：
  ``` js
  gis组件36.添加棱柱图层("cddata",[{adcode:"510000",value:100},{adcode:"520000",value:100}]);
  ```
    #### 添加飞行线图层
  **描述**：添加飞行线图层
- **参数**：
  - `{String } id` 该图层的id 必填 。自己定义但必须唯一
  - `{Array} data` 图层的数据 二位数组
    data可以是行政编码的数据对象数组，例如：`[["510000","520000"],["510000","110000"]]`
     510000 表示第一条飞行线的起点行政编码，520000 表示终点的行政编码
     510000 表示第二条飞行线的起点行政编码，110000 表示终点的行政编码
   - `{String } layerId` 图层样式id 选填 使用地图中设置好的图层样式
- **返回值**：返回当前组件
- **用例**：
  ``` js
  gis组件36.添加飞行线图层("cddata",[["510000","520000"],["510000","110000"]])
  ```
  #### 设置地图缩放层级
  **描述**：设置地图缩放层级
- **参数**：
    - `{number } zoom` 地图的缩放层级，取值 0-20
- **返回值**：返回当前组件
- **用例**：
  ``` js
   gis组件36.设置地图缩放层级(10);
  ```
 #### 设置地图状态
  **描述**：设置地图的状态，主要用来控制地图的图层显示，状态值是在设置图层时的图层状态值
- **参数**：
    - `{String } status` 地图的状态
- **返回值**：返回当前组件
- **用例**：
  ``` js
   gis组件36.设置地图状态("down");
  ```
  #### Gis跳转页面
  **描述**：页面跳转，用于gis运行一张图模式，不是该模式不生效
- **参数**：
    - `{String } path` 跳转的页面地址
- **返回值**：返回当前组件
- **用例**：
  ``` js
   gis组件36.Gis跳转页面("/pc/test/zh");
  ```
    #### 隐藏图层
  **描述**：隐藏图层
- **参数**：
    - `{String } id` 图层id
- **返回值**：返回当前组件
- **用例**：
  ``` js
   gis组件36.隐藏图层("cddata");
  ```
    #### 删除图层
  **描述**：删除图层
- **参数**：
    - `{String } id` 图层id
- **返回值**：返回当前组件
- **用例**：
  ``` js
   gis组件36.删除图层("cddata");
  ```

